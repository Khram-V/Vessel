//!
//! –ø—Ä–æ–µ–∫—Ç Aurora - —à—Ç–æ—Ä–º–æ–≤–æ–π –∏ —ç–∫—Å—Ç—Ä–µ–º–∞–ª—å–Ω—ã–π —Ö–æ–¥ –∫–æ—Ä–∞–±–ª—è
//   ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ïñ
//   ‚îÇ  ‚Üì  –∫–æ—Ä–ø—É—Å ‚îÄ> –≤–æ–ª–Ω—ã ‚îÄ> –≥—Ä–∞—Ñ–∏–∫–∞                ‚ïë
//   ‚îÇ  ‚Üì  —Å—Ç–∞—Ç–∏–∫–∞ ‚îÄ> –¥–∏–Ω–∞–º–∏–∫–∞ ‚îÄ> —Ä–µ–∞–∫—Ü–∏–∏            ‚ïë
//   ‚îÇ  ‚Ü®  –∫–∏–Ω–µ–º–∞—Ç–∏–∫–∞ ‚îÄ> –∏–∑–ª—É—á–µ–Ω–∏–µ ‚îÄ> –≥–∏–¥—Ä–æ–º–µ—Ö–∞–Ω–∏–∫–∞  ‚ïë
//   ‚ïû‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù
//   ‚îî‚îÄ‚îÄ ¬©2018-24, –°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥ ‚Äî –Æ–∂–Ω–æ-–°–∞—Ö–∞–ª–∏–Ω—Å–∫ ‚Äî –ú–æ–≥–∏–ª–µ–≤ ‚Äî –î—Ä—É—Ç—å ‚Äî ‚Äè◊ô÷∞◊®◊ï÷º◊©÷∏◊Å◊ú÷∑◊ô÷¥◊ù
//
static const char
Title[]="–®—Ç–æ—Ä–º–æ–≤–∞—è –º–æ—Ä–µ—Ö–æ–¥–Ω–æ—Å—Ç—å –∫–æ—Ä–∞–±–ª—è (–≤—ã—á–∏—Å–ª–∏—Ç–µ–ª—å–Ω—ã–π —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç)",
SubTitle[]="\n    –õ–µ–Ω–∏–Ω–≥—Ä–∞–¥, –ö–æ—Ä–∞–±–ª–µ—Å—Ç—Ä–æ–∏—Ç–µ–ª—å–Ω—ã–π –∏–Ω—Å—Ç–∏—Ç—É—Ç"
        " \\ –°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥, –ì–æ—Å—É–¥–∞—Ä—Å—Ç–≤–µ–Ω–Ω—ã–π —É–Ω–∏–≤–µ—Ä—Å–∏—Ç–µ—Ç\n"
        "\t\t  –ù–∞—É—á–Ω–æ-–∏–Ω–∂–µ–Ω–µ—Ä–Ω–æ–µ –æ–±—â–µ—Å—Ç–≤–æ —Å—É–¥–æ—Å—Ç—Ä–æ–∏—Ç–µ–ª–µ–π –∏–º.–ê.–ù.–ö—Ä—ã–ª–æ–≤–∞,\n"
        "\t\t\t\t –ø–æ–¥—Å–µ–∫—Ü–∏—è –º–æ—Ä–µ—Ö–æ–¥–Ω—ã—Ö –∫–∞—á–µ—Å—Ç–≤ –∫–æ—Ä–∞–±–ª—è –≤ —à—Ç–æ—Ä–º–æ–≤—ã—Ö —É—Å–ª–æ–≤–∏—è—Ö",
CopyRight[]="\n ¬´–ú–ò–î–í¬ª ¬©1975-2024 –ö–∞–ª–∏–Ω–∏–Ω–≥—Ä–∞–¥‚Äì–°–µ–≤–∞—Å—Ç–æ–ø–æ–ª—å‚Äì–õ–µ–Ω–∏–Ω–≥—Ä–∞–¥‚Äì–°–∞—Ö–∞–ª–∏–Ω"
            " ‚Äì ◊ô÷∞◊®◊ï÷º◊©÷∏◊Å◊ú÷∑◊ô÷¥◊ù ‚Äì –í.–•—Ä–∞–º—É—à–∏–Ω",
Title_Hull[]=" –ê–∫—Å–æ–Ω–æ–º–µ—Ç—Ä–∏—á–µ—Å–∫–∏–π –≤–∏–¥ –∫–æ—Ä–ø—É—Å–∞ –∫–æ—Ä–∞–±–ª—è –∏ –ø—Ä–æ—Ñ–∏–ª–µ–π –º–æ—Ä—Å–∫–∏—Ö –≤–æ–ª–Ω ",
Title_Wave[]=" –ö–æ—Ä–∞–±–ª—å –∏ —Ç—Ä–æ—Ö–æ–∏–¥–∞–ª—å–Ω—ã–µ —à—Ç–æ—Ä–º–æ–≤—ã–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –º–æ—Ä—Å–∫–∏—Ö –≤–æ–ª–Ω ";
const char
 *Rmbs[]= { "Nord","NtO","NNO","NOtN","NO","NOtO","ONO","OtN", // –°—Ç–æ—Ä–æ–Ω—ã —Å–≤–µ—Ç–∞
             "Ost","OtS","OSO","SOtO","SO","SOtS","SSO","StO", // + —Ä–æ–∑–∞ –≤–µ—Ç—Ä–æ–≤
           "Su\"d","StW","SSW","SWtS","SW","SWtW","WSW","WtS", // ·ø•œåŒºŒ≤ŒøœÇ ‚Äî —é–ª–∞
            "West","WtN","WNW","NWtW","NW","NWtN","NNW","NtW" },
//*Model[]={"–ö–∏–Ω–µ–º–∞—Ç–∏–∫–∞ –∫–∞—á–∫–∏ –≤ 4-—Ö —Ç–æ—á–∫–∞—Ö –Ω–∞ —Å–∫–ª–æ–Ω–∞—Ö –≤–æ–ª–Ω",  // ‚å† Hull::Statum
 *Model[]={ "–ö–∏–Ω–µ–º–∞—Ç–∏–∫–∞ –ø—è—Ç–∏ —Ç–æ—á–µ–∫ —à–∞–±–ª–æ–Ω–∞ –Ω–∞ —Å–∫–ª–æ–Ω–∞—Ö –≤–æ–ª–Ω",  // ‚å† Hull::Statum
            "–û–±—ä—ë–º–Ω–∞—è –ø–ª–∞–≤—É—á–µ—Å—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–≥–æ –≤–æ–¥–æ–∏–∑–º–µ—â–µ–Ω–∏—è",  // ‚îÇ
            "–î–∞–≤–ª–µ–Ω–∏–µ —Å–º–æ—á–µ–Ω–Ω—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –±–æ—Ä—Ç–æ–≤–æ–π –æ–±—à–∏–≤–∫–∏",  // ‚îÇ
            "–î–∞–≤–ª–µ–Ω–∏–µ –Ω–∞ –≤—Å—Ç—Ä–µ—á–Ω–æ–º –ø–æ—Ç–æ–∫–µ –±–µ–∑ –º–æ—Ä—Å–∫–∏—Ö –≤–æ–ª–Ω",  // ‚îÇ
            "–î–∞–≤–ª–µ–Ω–∏–µ —Å –≤–æ–ª–Ω–æ–≤—ã–º–∏ –∏ —Ö–æ–¥–æ–≤—ã–º–∏ –ø–æ—Ç–æ–∫–∞–º–∏ –≤–æ–¥—ã" },// ‚å°
 *ModelWave[]={ " —á–∏—Å—Ç–æ–µ —à—Ç–∏–ª–µ–≤–æ–µ –º–æ—Ä–µ –±–µ–∑ –≤–æ–ª–Ω–µ–Ω–∏—è –∏ –≤–µ—Ç—Ä–∞",// Field::Exp.wave
                " –º–æ–¥–µ–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –≥–∏–¥—Ä–æ–¥–∏–Ω–∞–º–∏–∫–∏ –Ω–∞ —Ç–µ–æ—Ä–µ—Ç–∏—á–µ—Å–∫–æ–º –≤–æ–ª–Ω–µ–Ω–∏–∏",
                " –≤—ã—á–∏—Å–ª–∏—Ç–µ–ª—å–Ω—ã–π —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç —Å –æ—Ç—Ä–∞–∂–µ–Ω–∏–µ–º –≤–æ–ª–Ω –æ—Ç –∫–æ—Ä–ø—É—Å–∞",
                " —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç —Å —É—á—ë—Ç–æ–º —Å–∫–æ—Ä–æ—Å—Ç–µ–π —Ç–µ—á–µ–Ω–∏–π –∏ –¥–∏—Å–ø–µ—Ä—Å–∏–µ–π –≤–æ–ª–Ω" };
#include "Aurora.h"
Field *Storm=0; /// –∞–¥—Ä–µ—Å–Ω–∞—è —Å—Å—ã–ª–∫–∞ –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ –∞–∫–≤–∞—Ç–æ—Ä–∏–∏ —Å –º–æ—Ä—Å–∫–∏–º –≤–æ–ª–Ω–µ–Ω–∏–µ–º
Hull *Vessel=0; /// —Ç–µ–æ—Ä–µ—Ç–∏—á–µ—Å–∫–∏–π –∫–æ—Ä–ø—É—Å –∫–æ—Ä–∞–±–ª—è –≤ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ–º —Ç–µ–Ω–∑–æ—Ä–Ω–æ–º –±–∞–∑–∏—Å–µ
FILE *VIL=0;    // –∏—Å—Ö–æ–¥–Ω—ã–π —Ñ–∞–π–ª —Å –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏ –∏ –ø—Ä–æ—Ç–æ–∫–æ–ª–∞–º–∏ –æ–ø—ã—Ç–æ–≤—ã—Ö –∏—Å–ø—ã—Ç–∞–Ω–∏–π
static char *Lst=(char*)calloc( MAX_PATH,4 ); // –≤—Ä–µ–º–µ–Ω–Ω–∞—è —Å—Ç—Ä–æ—á–∫–∞ 1k –≤–Ω–µ —Å—Ç—ç–∫–∞
const                     //! –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã –∏—Å—Ö–æ–¥–Ω—ã—Ö —É–ø—Ä–∞–≤–ª—è—é—â–∏—Ö –∫–æ–¥–æ–≤ –∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
byte Mekhanik_Status=4,  //  —Ä–µ–∂–∏–º –≥–∏–¥—Ä–æ\–º–µ—Ö–∞–Ω–∏–∫–∏ —Ö–æ–¥–∞ –∏ –º–∞–Ω–µ–≤—Ä–∏—Ä–æ–≤–∞–Ω–∏—è –∫–æ—Ä–∞–±–ª—è
                        // 0-—Å–∫–ª–æ–Ω—ã 1-–≤–æ–¥–æ–∏–∑–º–µ—â–µ–Ω–∏–µ 2-–¥–∞–≤–ª–µ–Ω–∏–µ 3+—Ö–æ–¥ 4+–≤–æ–ª–Ω–µ–Ω–∏–µ
     Drawing_Hull=0x3; /*~ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∫–æ—Ä–ø—É—Å–∞ –∑–∞–∫—Ä–∞—Å–∫–æ–π, –≥—Ä–∞–Ω—è–º–∏ —Ç—Ä–µ—É–≥–æ–ª—å–Ω–∏–∫–æ–≤
                     0 - –≤–∞—Ç–µ—Ä–ª–∏–Ω–∏—è —Å—Ç—Ä–æ–∏—Ç—Å—è –ø—Ä–∏ –ª—é–±–æ–º –≥—Ä–∞—Ñ–∏—á–µ—Å–∫–æ–º —Ä–∞—Å–∫–ª–∞–¥–µ
                     1 - –ø—Ä–æ—Ä–∏—Å–æ–≤—ã–≤–∞—é—Ç—Å—è —Ç–æ–ª—å–∫–æ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ —à—Ç–µ–≤–Ω–∏ –∏ —à–ø–∞–Ω–≥–æ—É—Ç—ã
                     2 - –æ—Å—Ç–∞–≤–ª—è–µ—Ç—Å—è –ø–æ–¥–≤–æ–¥–Ω–∞—è —á–∞—Å—Ç—å —Å–æ —à–ø–∞–Ω–≥–æ—É—Ç–∞–º–∏ –Ω–∞–¥ –≤–æ–¥–æ–π
                     3 - –≤–µ—Å—å –∫–æ—Ä–ø—É—Å –ø—Ä–æ—Ä–∏—Å–æ–≤—ã–≤–∞–µ—Ç—Å—è —Ü–µ–ª–∏–∫–æ–º –æ—Ç—á–∞—Å—Ç–∏ –ø—Ä–æ–∑—Ä–∞—á–Ω—ã–º
                   —Ö04 - —Ç–æ–∂–µ, –±–µ–∑ –æ–±—à–∏–≤–∫–∏ –∏ —Ç–æ–ª—å–∫–æ —Å —Ç—Ä–∏–∞–Ω–≥—É–ª—è—Ü–∏–æ–Ω–Ω—ã–º–∏ —Ä–µ–±—Ä–∞–º–∏
                   —Ö08 - –∏—Å—Ö–æ–¥–Ω—ã–π –≤–∞—Ä–∏–∞–Ω—Ç: –æ–¥–Ω–æ –ø–æ–ª–µ –≥—Ä–∞—Ñ–∏–∫–æ–≤ –∏ –∫–∞—Ä—Ç—É—à–∫–∞ —Å–ø—Ä–∞–≤–∞
                ?? —Ö10 - —Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –≥—Ä–∞—Ñ–∏–∫–∏ —Å –≤–∫–ª—é—á–µ–Ω–∏–µ–º –Ω–∞–¥–≤–æ–¥–Ω–æ–≥–æ –±–æ—Ä—Ç–∞ */
///   –ê–∫—Å–æ–Ω–æ–º–µ—Ç—Ä–∏—á–µ—Å–∫–∏–π –≤–∏–¥ –∫–æ—Ä–ø—É—Å–∞ –∫–æ—Ä–∞–±–ª—è –∏ –ø—Ä–æ—Ñ–∏–ª–µ–π –º–æ—Ä—Å–∫–∏—Ö –≤–æ–ª–Ω
Hull::Hull(): View     // –≤ –ø—Ä–∏—Ü–µ–ø–µ View –æ–∫–æ—à–∫–æ –≥—Ä–∞—Ñ–∏—á–µ—Å–∫–æ–π –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏ OpenGL
( Title_Hull,-12,12,412,136 ),   //  Xpm( 4 ),Ypm( 4 ), Xpm( 64 ),Ypm( 72 )
  FileName( 0 ),ShipName( 0 ),   // –ò—Å—Ö–æ–¥–Ω—ã–π –§–∞–π–ª –∏ –Ω–∞–∑–≤–∞–Ω–∏–µ –∏—Å—Ö–æ–¥–Ω–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞
  Keel( 0 ),Frame( 0 ),Shell( 0 ), // —à–ø–∞–Ω–≥–æ—É—Ç—ã + —à—Ç–µ–≤–Ω–∏ –∏ –æ–±–µ—á–∞–π–∫–∞ –ø–æ —à–ø–∞—Ü–∏—è–º
  lFlow( true ),                 // –∫–ª—é—á –≤–æ–≤–ª–µ—á–µ–Ω–∏—è –∫–æ—Ä–∞–±–ª—è –≤ –≤–æ–ª–Ω–æ–≤–æ–π –ø–æ—Ç–æ–∫
  Statum( Mekhanik_Status ),     // –∏–Ω–¥–µ–∫—Å —Ä–µ–∂–∏–º–æ–≤ –≤—ã—á–∏—Å–ª–∏—Ç–µ–ª—å–Ω–æ–≥–æ —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∞
  Educt( 0x255 ),                // –≤—Å–µ –≤–æ—Å–µ–º—å –ø—Ä–∏–∑–Ω–∞–∫–æ–≤ —ç–∫—Å—Ç—Ä–µ–º–∞–ª—å–Ω—ã—Ö —Å–æ–±—ã—Ç–∏–π
  DrawMode( Drawing_Hull ),      // –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∫–æ—Ä–ø—É—Å–∞ –∑–∞–∫—Ä–∞—Å–∫–æ–π –∏–ª–∏ –∫–æ–Ω—Ç—É—Ä–∞–º–∏
  hX( 1.0 ),                     // –ø–æ–ø–µ—Ä–µ—á–Ω–∞—è –º–µ—Ç–∞—Ü–µ–Ω—Ç—Ä–∏—á–µ—Å–∫–∞—è –≤—ã—Å–æ—Ç–∞      [–º]
  sT( 30.0 ),                    // –∏–Ω—Ç–µ—Ä–≤–∞–ª –∫–∏–Ω–µ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏  [—Å–µ–∫]
  Trim( 0.0 ),                   // –¥–∏—Ñ—Ñ–µ—Ä–µ–Ω—Ç –ø–æ —Å–º–µ—â–µ–Ω–∏—é —Ü–µ–Ω—Ç—Ä–∞ –≤–µ–ª–∏—á–∏–Ω—ã [—Ä–∞–¥]
  Kv( 0.5 ),                     // 1-–±–µ–∑ –¥–∞–≤–ª–µ–Ω–∏—è; 0-—É—á—ë—Ç –ø–∞—Ä–∞–¥–æ–∫—Å–∞ –î–∞–ª–∞–º–±–µ—Ä–∞
  Course( _Ph/3 ),dCs( _Ph/60 ), // –∫—É—Ä—Å, —Ä—É–ª—å –Ω–∞ –±–æ—Ä—Ç(1–º–∏–Ω), –ø–æ–ª–±–æ—Ä—Ç–∞(2) [—Ä–∞–¥]
  Speed( 0.0 ),cSp( 0.0 ),       // —Å–∫–æ—Ä–æ—Å—Ç—å –ø–æ–≥–∞—à–µ–Ω–∞, –º–∞—à–∏–Ω—ã –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã [–º/—Å]
  Locate( Zero ),                // –ø—Ä—è–º–∞—è —Å—Å—ã–ª–∫–∞ –Ω–∞ —Ç–µ–∫—É—â–µ–µ –º–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–µ [–º]
  Route(),Rate(),Head(),Whirl(),Mix() // –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä—ã –¥–ª—è –∫–∏–Ω–µ–º–∞—Ç–∏–∫–∏ –≤–æ –≤—Ä–µ–º–µ–Ω–∏
{ Vessel=this;                  // —Å—Å—ã–ª–∫–∞ –Ω–∞ –∫–æ—Ä–ø—É—Å, –ø—É—Å—Ç—å –±—É–¥–µ—Ç –≤–Ω–µ—à–Ω–∏–π –¥–æ—Å—Ç—É–ø
  Nframes=Mid=0; Length=Breadth=Draught=1.0; vC=vR=vS=vD=vP=Zero;
  nF=muF=(Vector){ 0.1,0.8,0.6 }; // –¥–µ–º–ø—Ñ–µ—Ä –ø–æ –∞–±—Å—Ü–∏—Å—Å–µ, –æ—Ä–¥–∏–Ω–∞—Ç–µ –∏ –∞–ø–ø–ª–∏–∫–∞—Ç–µ
  nM=muM=(Vector){ 0.2,0.6,0.8 }; // ... –ø–æ –±–æ—Ä—Ç–æ–≤–æ–π, –∫–∏–ª–µ–≤–æ–π –∫–∞—á–∫–µ –∏ —Ä—ã—Å–∫–∞–Ω–∏—é
  Ofs=Zero; mx=my=0;              // –∏ –º—ã—à–∫—É —Ç–æ–∂–µ –≤ –∏—Å—Ö–æ–¥–Ω–æ–µ
  AlfaVector( Height/WinLines ).Activate();         // –ø—Ä–∏–≤—è–∑–∫–∞ –∫ Window::Place
  glPolygonMode( GL_FRONT_AND_BACK,GL_FILL );       //   –∏ –ø–µ—Ä–≤—ã–π —Ä–∏—Å—É–Ω–æ–∫
  FileName=(char*)calloc( MAX_PATH,4 );
#if 1
//  color(navy); Alfabet(22,"Courier",800).Print( 2,1,"Aurora ~ " );
//  color(blue); Alfabet(18,"Courier",600).Print( "—à—Ç–æ—Ä–º–æ–≤–∞—è –≥–∏–¥—Ä–æ–º–µ—Ö–∞–Ω–∏–∫–∞");
//  color(cyan); Alfabet(19,"Lucida", 600).Print( 8,2,
//                   "–ú–æ—Ä–µ—Ö–æ–¥–Ω—ã–µ –∫–∞—á–µ—Å—Ç–≤–∞ –∫–æ—Ä–∞–±–ª—è -\n"
//                   "   –≤—ã—á–∏—Å–ª–∏—Ç–µ–ª—å–Ω—ã–π —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç\n" );
//  color(green ); Alfabet( 18,"Times",1,1 ).Print
//                 ( "       ¬©1975-2024 –ö–∞–ª–∏–Ω–∏–Ω–≥—Ä–∞–¥ - –°–∞—Ö–∞–ª–∏–Ω - ◊ô÷∞◊®◊ï÷º◊©÷∏◊Å◊ú÷∑◊ô÷¥◊ù\n\n" );
//  color(black ); Alfabet( 20,"Times",1,1 ).Print( -2,-2,
//                   "–°–æ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–Ω—ã–µ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –∏ –æ–±–≤–æ–¥—ã –∫–æ—Ä–ø—É—Å–∞\n"
//                   " - —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –≤—Å–µ–ø–æ–≥–æ–¥–Ω–æ–≥–æ –º–æ—Ä–µ–ø–ª–∞–≤–∞–Ω–∏—è" );
//  color(yellow); Alfabet( 12,"Times",1,1 )
//                .Print( -3,0,"¬©75 –í–∞—Å–∏–ª–∏–π –•—Ä–∞–º—É—à–∏–Ω" ).Save().Show();
  color(navy); AlfaVector( 16,2 ).Print( 2,1,"Aurora ~ " );
  color(blue); AlfaVector( 16,1 ).Print( "—à—Ç–æ—Ä–º–æ–≤–∞—è –≥–∏–¥—Ä–æ–º–µ—Ö–∞–Ω–∏–∫–∞");
  color(cyan); AlfaVector( 15,1.5 ).Print( 6,2,
                   "\n–ú–æ—Ä–µ—Ö–æ–¥–Ω—ã–µ –∫–∞—á–µ—Å—Ç–≤–∞ –∫–æ—Ä–∞–±–ª—è -"
                   "\n  –≤—ã—á–∏—Å–ª–∏—Ç–µ–ª—å–Ω—ã–π —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç" );
  color(lightgreen ); AlfaVector( 13,0 ).Print( 8,5,
                   "\n    ¬©1975-2024 –ö–∞–ª–∏–Ω–∏–Ω–≥—Ä–∞–¥ - –°–∞—Ö–∞–ª–∏–Ω - ◊ô÷∞◊®◊ï÷º◊©÷∏◊Å◊ú÷∑◊ô÷¥◊ù" );
  color(lightred );   AlfaVector( 13,1 ).Print( -2,-1.8,
                   "–°–æ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–Ω—ã–µ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –∏ –æ–±–≤–æ–¥—ã –∫–æ—Ä–ø—É—Å–∞\n"
                   " - —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –≤—Å–µ–ø–æ–≥–æ–¥–Ω–æ–≥–æ –º–æ—Ä–µ–ø–ª–∞–≤–∞–Ω–∏—è" );
  color(yellow); AlfaVector( 9,1 )
                .Print( -1,0,"¬©75 –í–∞—Å–∏–ª–∏–π –•—Ä–∞–º—É—à–∏–Ω" ).Save().Show();
#else
//#include "../Window/Sym_CCCP.c"
  color( navy ); AlfaBit( _8x16 ).Print( 2,1,"Aurora  ~  " );
  color( blue ); Print( "—à—Ç–æ—Ä–º–æ–≤–∞—è –≥–∏–¥—Ä–æ–º–µ—Ö–∞–Ω–∏–∫–∞¬∞\n");
  color( cyan ); Print( 10,2,"–ú–æ—Ä–µ—Ö–æ–¥–Ω—ã–µ –∫–∞—á–µ—Å—Ç–≤–∞ –∫–æ—Ä–∞–±–ª—è -\n"
                             "   –≤—ã—á–∏—Å–ª–∏—Ç–µ–ª—å–Ω—ã–π —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç\n" );
  color( green ); AlfaBit( _8x08 ).Print( 2,8,"¬©1975-2024" )
                 .AlfaBit( _8x14 ).Print( " –ö–∞–ª–∏–Ω–∏–Ω–≥—Ä–∞–¥ - –°–∞—Ö–∞–ª–∏–Ω - ◊ô÷∞◊®◊ï÷º◊©÷∏◊Å◊ú÷∑◊ô÷¥◊ù\n\n" );
  color( black ); AlfaBit( _8x16 ).Print( 2,6,
                   "–°–æ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–Ω—ã–µ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –∏ –æ–±–≤–æ–¥—ã –∫–æ—Ä–ø—É—Å–∞\n"
                   "- —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –≤—Å–µ–ø–æ–≥–æ–¥–Ω–æ–≥–æ –º–æ—Ä–µ–ø–ª–∞–≤–∞–Ω–∏—è" );
  color(yellow); AlfaBit(_8x08).Print(-3,0,"(c)75, –í.–•—Ä–∞–º—É—à–∏–Ω" ).Save().Show();
#endif
  //glFinish();
  //WaitTime( 500 );
 int Ac; WCHAR **Av=CommandLineToArgvW( GetCommandLineW(),&Ac );
//if( !Read(  Ac>1 ? W2U( Av[1] ) : "Aurora.vsl" ) )
  if( !Read(  W2U( Ac>1 ? Av[1] : L"Aurora.vsl" ) ) )
       Break( "–û—à–∏–±–∫–∞ —Å—á–∏—Ç—ã–≤–∞–Ω–∏—è –∫–æ—Ä–ø—É—Å–∞ %s -> %s",W2U( Av[1] ),FileName );
//Window::Locate( Xpm( 4 ),Ypm( 4 ),Xpm( 64 ),Ypm( 72 ) ).Clear();
  Window::Locate( Xpm( 4 ),Ypm( 4 ),min( 1280L,Xpm( 64 ) ),
                                    min( 1024L,Ypm( 72 ) ) ).Clear();
  Distance*=1.08;
  look.x=1;
  look.y=-2; //eye.y=-10;
  look.z=0;
}
//                      Shell  n = 0 - –∞—Ö—Ç–µ—Ä—à—Ç–µ–≤–µ–Ω—å;      n = 1 - –∫–æ—Ä–º–∞;
//void Hull::FullFree()    //  n = Frames+2 - —Ñ–æ—Ä—à—Ç–µ–≤–µ–Ω—å; n = Frames+1 - –Ω–æ—Å;
//{ if( Nframes>0 )        //  n = [2..Frames] - –∫–æ—Ä–ø—É—Å,  –≤—Å–µ–≥–æ Frames-1 —à–ø–∞—Ü–∏–π
//  { for( int i=0; i<Nframes+3; i++ )
//       { if( i<Nframes )(Frame+i)->Flex::~Flex(); Allocate( 0,Shell[i] ); }
//    Allocate( 0,Frame ),Allocate( 0,Shell ); free( FileName ),free(ShipName);
//    FileName=ShipName=NULL; Shell=NULL,Frame=NULL,Nframes=0,Keel=0;
//} }
///  –ù–∞—á–∞–ª—å–Ω—ã–µ –ø—Ä–æ—Ü–µ–¥—É—Ä—ã –∏ –ø–æ–≤—Ç–æ—Ä–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –≤–æ–ª–Ω–æ–≤—ã—Ö –ø–æ–ª–µ–π
//
Field::                            // –æ–±—ä–µ–¥–∏–Ω–µ–Ω–Ω–∞—è –∞–∫–≤–∞—Ç–æ—Ä–∏—è –º–æ—Ä—Å–∫–æ–≥–æ –≤–æ–ª–Ω–µ–Ω–∏—è
Field( _Real L,_Real W, //_Real T, // –¥–ª–∏–Ω–∞, —à–∏—Ä–∏–Ω–∞ –±–∞—Å—Å–µ–π–Ω–∞, —à–∞–≥ –≤—Ä–µ–º–µ–Ω–∏ [–º,—Å]
        Real Lw,Real Hw,Real Dw,   // –≤–æ–ª–Ω—ã —Å –æ–±—Ä—É—à–∞—é—â–∏–º–∏—Å—è –≥—Ä–µ–±–Ω—è–º–∏    [–º,%,¬∞]
        Real Ls,Real Hs,Real Ds,   // —Å–≤–µ–∂–∞—è –º–æ—Ä—Å–∫–∞—è –∑—ã–±—å –ø—Ä–æ—à—É–º–µ–≤—à–∏—Ö —à—Ç–æ—Ä–º–æ–≤
        Real Lr,Real Hr,Real Dr )  // —Ä–µ–ª–∏–∫—Ç–æ–≤—ã–µ –≤–æ–ª–Ω—ã –æ—Ç —É–¥–∞–ª–µ–Ω–Ω—ã—Ö —É—Ä–∞–≥–∞–Ω–æ–≤
: View( Title_Wave, // –ö–æ—Ä–∞–±–ª—å –∏ —Ç—Ä–æ—Ö–æ–∏–¥–∞–ª—å–Ω—ã–µ —à—Ç–æ—Ä–º–æ–≤—ã–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –º–æ—Ä—Å–∫–∏—Ö –≤–æ–ª–Ω
  Xpm(4),Ypm(1),Xpm(95),Ypm(91) ),  // —Ä–∞–∑–º–µ—Ä–µ–Ω–∏—è –≥—Ä–∞—Ñ–∏—á–µ—Å–∫–æ–≥–æ –æ–∫–Ω–∞ –≤ –ø—Ä–æ—Ü–µ–Ω—Ç–∞—Ö
//Tstep( T ),tKrat( M_SQRT2*3.0 ),  // –∏–Ω—Ç–µ—Ä–≤–∞–ª –∏ –∫—Ä–∞—Ç–Ω–æ—Å—Ç—å —à–∞–≥–∞ –≤–æ –≤—Ä–µ–º–µ–Ω–∏ [—Å]
  Kt( 0 ),    // –Ω—É–ª–µ–≤–æ–π —Å—á–µ—Ç—á–∏–∫ –∏–Ω–∏—Ü–∏–∏—Ä—É–µ—Ç –Ω–∞—á–∞–ª–æ –≤—ã—á–∏—Å–ª–∏—Ç–µ–ª—å–Ω–æ–≥–æ —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∞
  Long( L ),Wide( W ),Ws( 0 ),  // –¥–ª–∏–Ω–∞, —à–∏—Ä–∏–Ω–∞ –∏ –∞–¥—Ä–µ—Å –æ–ø—ã—Ç–æ–≤–æ–≥–æ –±–∞—Å—Å–µ–π–Ω–∞ [–º]
  Wind( "–í–æ–ª–Ω–∞" ),Swell( "–ó—ã–±—å" ),Surge( "–í–∞–ª" ) // 3 –≥—Ä—É–ø–ø–æ–≤—ã–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –≤–æ–ª–Ω
//Info( this,PlaceAbove )         // —Ç–µ–∫—É—â–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–≥–æ —Ç–∞–π–º–µ—Ä–∞
{ const
 int Split=2; // –î—Ä–æ–±–ª–µ–Ω–∏–µ –æ–±—â–µ–π –∞–∫–≤–∞—Ç–æ—Ä–∏–∏ –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ –ø–æ–ª—è –≤–µ—Ç—Ä–æ–≤–æ–≥–æ –≤–æ–ª–Ω–µ–Ω–∏—è
 Hull &V=*Vessel; // –∫–æ–ø–∏—è —Å—Å—ã–ª–∫–∏ –¥–æ—Å—Ç—É–ø–∞ –∫ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—é —Ü–∏—Ñ—Ä–æ–≤–æ–π –º–æ–¥–µ–ª–∏ –∫–æ—Ä–∞–±–ª—è
  Storm=this; // –°—Å—ã–ª–∫–∞ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è –≤–Ω–µ—à–Ω–µ–≥–æ –¥–æ—Å—Ç—É–ø–∞ –∫ –æ–±—â–µ–π —à—Ç–æ—Ä–º–æ–≤–æ–π –∞–∫–≤–∞—Ç–æ—Ä–∏–∏
  Exp.wave=1; //! –º–∞—Å–∫–∞ –≤—ã–±–æ—Ä–∞ –≤–∞—Ä–∏–∞–Ω—Ç–∞ –≤–æ–ª–Ω–æ–≤–æ–≥–æ –ø–æ–ª—è –∏ —Ä–µ–∂–∏–º–∞ –º–æ–¥–µ–ª–∏—Ä–æ–≤–∞–Ω–∏—è
              //  0 —á–∏—Å—Ç–æ–µ —à—Ç–∏–ª–µ–≤–æ–µ, –∑–∞—Å—Ç–∏–ª–µ–≤—à–µ–µ –º–æ—Ä–µ –±–µ–∑ –≤–æ–ª–Ω–µ–Ω–∏—è –∏ –≤–µ—Ç—Ä–∞
              //  1 –º–æ–¥–µ–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –≥–∏–¥—Ä–æ–¥–∏–Ω–∞–º–∏–∫–∏ –Ω–∞ —á–∏—Å—Ç–æ —Ç–µ–æ—Ä–µ—Ç–∏—á–µ—Å–∫–æ–º –≤–æ–ª–Ω–µ–Ω–∏–∏
              //  2 –≤—ã—á–∏—Å–ª–∏—Ç–µ–ª—å–Ω—ã–π —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç —Å —Ç—Ä–æ—Ö–æ–∏–¥–∞–ª—å–Ω—ã–º–∏ –≤–æ–ª–Ω–∞–º–∏ –Ω–∞ –º–æ—Ä–µ
              // ++ –∫–æ–Ω—Ç–∏–Ω—É–∞–ª—å–Ω–æ-–∫–æ—Ä–ø—É—Å–∫—É–ª—è—Ä–Ω—ã–π, –ø–æ–ª–Ω—ã–π —Ç–µ–Ω–∑–æ—Ä–Ω—ã–π –ø–æ–¥—Ö–æ–¥
  Exp.peak=1; //  0 - –ø—Ä–æ—Å—Ç–æ–µ —Ä–µ—à–µ–Ω–∏–µ –≤ –ø–æ—Ç–æ–∫–∞—Ö 1 - —Ç—Ä–æ—Ö–æ–∏–¥–∞–ª—å–Ω—ã–µ –≤–æ–ª–Ω—ã {s,z}
  Exp.draw=0; //  0 - 3 –º–µ—Ç–æ–¥–∞ –∑–∞–∫—Ä–∞—Å–∫–∏ –∏ —Å–µ—Ç–æ—á–Ω–æ–π –ø—Ä–æ—Ä–∏—Å–æ–≤–∫–∏ –º–æ—Ä—Å–∫–æ–≥–æ –≤–æ–ª–Ω–µ–Ω–∏—è
  Exp.view=0; //  0 - —Å–≤–µ—Ç–æ–≤–∞—è —Ä–∞—Å–∫—Ä–∞—Å–∫–∞ –∏–ª–∏ 1 - —Ñ–æ–Ω —Å —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ–º –≥—Ä–∞–Ω–∏—Ü –≤–æ–ª–Ω
  Wind.Wind=_s2/2.0;    // –≤–µ—Ç—Ä–æ–≤–∞—è –∞—Å–∏–º–º–µ—Ç—Ä–∏—è –≥—Ä–µ–±–Ω–µ–π –≤–æ–ª–Ω –ø–æ–¥ –¥–µ–π—Å—Ç–≤–∏–µ–º –≤–µ—Ç—Ä–∞
/*Exp.ship=1; // 1 - –≥–∏–¥—Ä–æ—Å—Ç–∞—Ç–∏–∫–∞  +  2 - —É—á–µ—Ç —Å–∫–æ—Ä–æ—Å—Ç–∏ –∏ –¥–∞–≤–ª–µ–Ω–∏—è –ø–æ –ë–µ—Ä–Ω—É–ª–ª–∏
  Trun=(Tlaps=Instant.T)*3600; // –æ—Ç—Å—á–µ—Ç —Ä–µ–∞–ª—å–Ω–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏ –¥–ª—è –º–æ–¥–µ–ª–∏—Ä–æ–≤–∞–Ω–∏—è[s]
  Instant.T=0.0; //- –æ—Ç—Å—á–µ—Ç –≤—Ä–µ–º–µ–Ω–∏ –æ—Ç –Ω–∞—á–∞–ª–∞ —Å—É—Ç–æ–∫ - –∏–ª–∏ –≤—Å–µ–≥–¥–∞ —É—Å–ª–æ–≤–Ω–æ —Ä–∞–∑–Ω—ã–π
*/Trun=Tlaps=0.0;            // –æ—Ç—Å—á–µ—Ç —Ä–µ–∞–ª—å–Ω–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏ –º–æ–¥–µ–ª–∏—Ä–æ–≤–∞–Ω–∏—è[—Å–µ–∫,—á–∞—Å]
//Ts=Tstep/tKrat;            // –æ—Ü–µ–Ω–æ—á–Ω—ã–π –∏–Ω—Ç–µ—Ä–≤–∞–ª –≤—Ä–µ–º–µ–Ω–Ω–æ–≥–æ —à–∞–≥–∞ —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∞
  AlfaVector( Height/WinLines ).Activate();         // –ø—Ä–∏–≤—è–∑–∫–∞ –∫ Window::Place
  //
  //!  –≤—Å–µ –Ω–∞—á–∞–ª—å–Ω—ã–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ —Å—á–∏—Ç–∞–Ω—ã, –∏ —Ç–µ–ø–µ—Ä—å –º–æ–∂–Ω–æ –∏—Ö –∑–∞–Ω–æ–≤–æ –∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∞—Ç—å
  //                            –∏–∑ —Ñ–∞–π–ª–æ–≤ –Ω–∞—á–∞–ª—å–Ω–æ–π –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∞
       int l=1;
  for( int i=0; i<2; i++ )   // –ø–æ–≤—Ç–æ—Ä–µ–Ω–∏–µ –≤—ã–±–æ—Ä–∫–∏ –¥–ª—è Aurora.vil –∏ <Model>.vil
  { strcpy( fname( strcpy( Lst,V.FileName ) ),"Aurora.vil" );
    if( !i )VIL=_wfopen( U2W( Lst ),L"rt" ); else    // –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–æ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏
    { if( VIL ){ fclose( VIL ); VIL=NULL; ++i; }     //++ —Å –æ—Ç–º–µ—Ç–∫–æ–π –µ—ë –Ω–∞–ª–∏—á–∏—è
      if( strcmp( fext( V.FileName,"vil" ),Lst ) )   //= –±–µ–∑ –ø–æ–≤—Ç–æ—Ä–µ–Ω–∏—è –∏ –ø–æ—Ä—á–∏
      { VIL=_wfopen( U2W( fext(V.FileName,"vil") ),L"rb+" ); // —Ñ–∞–π–ª –¥–ª—è –º–æ–¥–µ–ª–∏
        if( VIL && i<2 )     // –±–µ–∑ –æ–±—â–µ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –≤–æ–ª–Ω—ã –≤ –¥–æ–ª—è—Ö –¥–ª–∏–Ω—ã –∫–æ—Ä–∞–±–ª—è
        { Lw*=V.Length/36; Ls*=V.Length/36; Lr*=V.Length/36; } // —Ç–æ –Ω–µ –º—É–¥—Ä—ë–Ω–æ
      }
    }
    if( VIL )while( !feof( VIL ) )                        // –∫ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ –º–æ–¥–µ–ª–∏
    { char *s=getString( VIL );
      if( !(l=strcut( s )) )break;
      if( s[0]==';' || !memcmp( s,"//",2 ) )continue;
      while( *s && *s<=' ' )s++;
      //  –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –≤—ã—á–∏—Å–ª–∏—Ç–µ–ª—å–Ω–æ–π –∞–∫–≤–∞—Ç–æ—Ä–∏–∏ –∏ —É—Å–ª–æ–≤–∏–π –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —à—Ç–æ—Ä–º–æ–≤—ã—Ö –≤–æ–ª–Ω
      if( !memcmp( s,"–ú–æ—Ä–µ:",l=strlen( "–ú–æ—Ä–µ:" ) ) )Get( s+l );
      if( !memcmp( s,"Sea:",4 ) )Get( s+4 );
      //  –ø–æ–¥—Å—Ç—Ä–æ–π–∫–∞ —Ç—Ä—ë—Ö –≥—Ä—É–ø–ø–æ–≤—ã—Ö —Å—Ç—Ä—É–∫—Ç—É—Ä —à—Ç–æ—Ä–º–æ–≤–æ–≥–æ –º–æ—Ä—Å–∫–æ–≥–æ –≤–æ–ª–Ω–µ–Ω–∏—è
      if( !memcmp(s,Wind.Title,l=strlen(Wind.Title) ))Wind.Get( s+l,Lw,Hw,Dw );
      if( !memcmp(s,Swell.Title,l=strlen(Swell.Title)))Swell.Get(s+l,Ls,Hs,Ds);
      if( !memcmp(s,Surge.Title,l=strlen(Surge.Title)))Surge.Get(s+l,Lr,Hr,Dr);
      if( !memcmp( s,"Wave:",5 )  )Wind.Get(  s+5,Lw,Hw,Dw );
      if( !memcmp( s,"Swell:",6 ) )Swell.Get( s+6,Ls,Hs,Ds );
      if( !memcmp( s,"Surge:",6 ) )Surge.Get( s+6,Lr,Hr,Dr );
      // –∏–∑–º–µ–Ω–µ–Ω–∏–µ –ø–æ—Å–∞–¥–∫–∏ —Å –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ–º –∫—É—Ä—Å–∞ –∏ –∑–∞–¥–∞–Ω–Ω–æ–π —Å–∫–æ—Ä–æ—Å—Ç–∏ —Ö–æ–¥–∞ –∫–æ—Ä–∞–±–ª—è
      if( !memcmp( s,"–ö–æ—Ä–∞–±–ª—å:",l=strlen( "–ö–æ—Ä–∞–±–ª—å:" ) ) )V.Get( s+l );
      if( !memcmp( s,"Ship:",5 ) )V.Get( s+5 );
      // —Ñ–∞–∫—Ç–æ—Ä—ã –¥–µ–º–ø—Ñ–∏—Ä–æ–≤–∞–Ω–∏—è –ø–æ—Å—Ç—É–ø–∞—Ç–µ–ª—å–Ω—ã—Ö –∏ —É–≥–ª–æ–≤—ã—Ö –∫–æ–ª–µ–±–∞–Ω–∏–π –∫–æ—Ä–ø—É—Å–∞
      if( !memcmp( s,"–î–µ–º–ø—Ñ–∏—Ä–æ–≤–∞–Ω–∏–µ:",
                   l=strlen( "–î–µ–º–ø—Ñ–∏—Ä–æ–≤–∞–Ω–∏–µ:" ) ) )V.GetDam( s+l );
      if( !memcmp( s,"Damp:",5 ) )V.GetDam( s+5 );
      // –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –≤—ã—á–∏—Å–ª–∏—Ç–µ–ª—å–Ω—ã–º —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–æ–º
      if( !memcmp( s,"–≠–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç:",
                   l=strlen( "–≠–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç:" ) ) )V.GetExp( s+l );
      if( !memcmp( s,"Test:",5 ) )V.GetExp( s+5 );

  } }
  Wind.Initial( Lw,Hw,Dw );  // –≤–µ—Ç—Ä–æ–≤—ã–µ –≤–æ–ª–Ω—ã —Å –æ–±—Ä—É—à–∞—é—â–∏–º–∏—Å—è –≥—Ä–µ–±–Ω—è–º–∏ [–º,%,¬∞]
  Swell.Initial( Ls,Hs,Ds ); // —Å–≤–µ–∂–∞—è –º–æ—Ä—Å–∫–∞—è –∑—ã–±—å –Ω–µ–¥–∞–≤–Ω–æ –ø—Ä–æ—à—É–º–µ–≤—à–∏—Ö —à—Ç–æ—Ä–º–æ–≤
  Surge.Initial( Lr,Hr,Dr ); // —Ä–µ–ª–∏–∫—Ç–æ–≤—ã–µ –ø–æ–ª–æ–≥–∏–µ –≤–æ–ª–Ω—ã –æ—Ç —É–¥–∞–ª–µ–Ω–Ω—ã—Ö —É—Ä–∞–≥–∞–Ω–æ–≤
  //
  //    –ø–æ —Å–∞–º–æ–π –º–µ–ª–∫–æ–π —Å–µ—Ç–∫–µ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è –æ–±—â–∞—è –∞–∫–≤–∞—Ç–æ—Ä–∏—è —Å–æ Split –¥—Ä–æ–±–ª–µ–Ω–∏–µ–º
  //
  mX=max( max( Wind.Mx,Swell.Mx ),Surge.Mx )*Split; // —Å–µ—Ç–∫–∞ –ø–æ –º–∞–∫—Å–∏–º—É–º—É —è—á–µ–µ–∫
  dS=Long/( mX-1 );                 // —Å–æ–∑–¥–∞–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∏—Ä—É—é—â–µ–π –º–∞—Ç—Ä–∏—Ü—ã –∞–ø–ø–ª–∏–∫–∞—Ç
  mY=Wide/dS+1;                     // —É—Ä–æ–≤–Ω–µ–π –º–æ—Ä—è (–∏ –ø–æ–≤–µ—Ä—Ö–Ω–æ—Å—Ç–Ω—ã—Ö —Å–∫–æ—Ä–æ—Å—Ç–µ–π)
  Ws=(Vector**)Allocate( mY,mX*sizeof(Vector) );  // –Ω–∞ –æ–±—â–µ–π —Ä–∞–≤–Ω–æ–º–µ—Ä–Ω–æ–π —Å–µ—Ç–∫–µ
  //
  //!  –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –≤—Ö–æ–¥–Ω–æ–≥–æ —Ñ–∞–π–ª–∞ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –≤ —Ä–µ–∂–∏–º –ø—Ä–æ—Ç–æ–∫–æ–ª–∞ —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∞
  //
  if( VIL )
  { int M,D,Y; Instant.UnPack( M,D,Y );
    fseek( VIL,ftell( VIL ),SEEK_SET );
    fprintf( VIL,"\n\n %s\n %s\n"+(l?0:2),::Title,
             "‚âà‚âà‚âà‚âà‚âà‚âà‚âà‚âà‚âà‚âà‚âà‚âà‚âà‚âà‚âà‚âà‚âà‚âà‚âà‚âà‚âà‚âà‚âà‚âà‚âà‚âà‚âà‚âà‚âà‚âà‚âà‚âà‚âà‚âà‚âà‚âà‚âà‚âà‚âà‚âà‚âà‚âà‚âà‚âà‚âà‚âà‚âà‚âà‚âà‚âà‚âà‚âà‚âà‚âà‚âà‚âà‚âà‚âà‚âà" );
    fprintf( VIL," %04d %s %02d %s %s\n %s\n",
     Y,_Mnt[M-1],D,_Day[int(Instant.D%7)],DtoA( Instant.T,3,"‚Åø" ),V.ShipName );
    if( V.Educt&0xFF )             // –µ—Å–ª–∏ –µ—Å—Ç—å —á—Ç–æ –ø–∏—Å–∞—Ç—å –≤ –ø—Ä–æ—Ç–æ–∫–æ–ª –∏—Å–ø—ã—Ç–∞–Ω–∏–π
    { fprintf( VIL," —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç, –≤ –∑–∞–ø–∏—Å—è—Ö %s:",
               V.Educt&0x200 ? "—Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —Ç–æ–ª—å–∫–æ —ç–∫—Å—Ç—Ä–µ–º–∞–ª—å–Ω—ã—Ö —Å–æ–±—ã—Ç–∏–π" :
                               "—É—á—ë—Ç –≤—Å–µ—Ö –º–∞–∫—Å–∏–º—É–º–æ–≤ –∏–∑–º–µ—Ä—è–µ–º—ã—Ö –≤–µ–ª–∏—á–∏–Ω" );
      fprintf( VIL,"\n %s, %s; %s, %s –∏ %s –∫–∞—á–∫–∞; —É—Å–∫–æ—Ä–µ–Ω–∏—è %s, %s –∏ %s\n",
               V.Educt& 1? "—Ö–æ–¥–∫–æ—Å—Ç—å"    : "‚Äî—Ö–æ–¥",
               V.Educt& 2? "—Ä—ã—Å–∫–∞–Ω–∏–µ"    : "‚Äî—Ä—ã—Å–∫",
               V.Educt& 4? "–≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω–∞—è": "‚Äî–≤–µ—Ä—Ç",
               V.Educt& 8? "–±–æ—Ä—Ç–æ–≤–∞—è"    : "‚Äî–±–æ—Ä—Ç",
               V.Educt& 16?"–∫–∏–ª–µ–≤–∞—è"     : "‚Äî–∫–∏–ª",
               V.Educt& 32?"–≤ –∫–æ—Ä–º–µ"     : "‚Äî–∫–æ—Ä–º",
               V.Educt& 64?"–Ω–∞ –º–∏–¥–µ–ª–µ"   : "‚Äî–º–∏–¥",
               V.Educt&128?"–ø–æ –Ω–æ—Å—É"     : "‚Äî–Ω–æ—Å" );
    } fprintf( VIL,
            " –∞–∫–≤–∞—Ç–æ—Ä–∏—è: { %.0f√ó%.0f –º }[%d¬∑%d]~Œ¥S=%.2f –º, { Œ¥t=%.1g\"/%.1f }",
                                           Long,Wide,mX,mY,dS,TimeStep,tKrat );
  }
  eye=(Vector){ 150.0,-16.4,0.0 },look=(Vector){ 0.0,-10.0,0.0 };  // –ø–æ–¥ –æ–±–∑–æ—Ä
  Distance=-0.8*Long;   // —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ –æ—Ç —Ç–æ—á–∫–∏ –≤–∑–≥–ª—è–¥–∞ –¥–æ –º–µ—Å—Ç–∞ –≤ —Ü–µ–Ω—Ç—Ä–µ –æ–±–∑–æ—Ä–∞
  mx=my=0;              // —É–∫–∞–∑–∞—Ç–µ–ª—å –º—ã—à–∏ —Å—Ç–∞–≤–∏—Ç—Å—è –≤ –∏—Å—Ö–æ–¥–Ω–æ–µ/–Ω—É–ª–µ–≤–æ–µ –ø–æ–ª–æ–∂–µ–Ω–∏–µ
}
Waves::Waves( const char Name[] )    // –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä —Å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å—é –ø–µ—Ä–µ—Å—Ç—Ä–æ–µ–Ω–∏—è
     : Title( Name ),Mx( 0 ),My( 0 ),                // –≤–Ω–µ—à–Ω–µ–≥–æ √ó3√ó —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è
    Cw(0),Ow(0), // –§–∞–∑–æ–≤–∞—è —Å–∫–æ—Ä–æ—Å—Ç—å –∏ –∫—Ä—É–≥–æ–≤–∞—è —á–∞—Å—Ç–æ—Ç–∞ –±–µ–≥—É—â–µ–π –≤–æ–ª–Ω—ã [–º/—Å,—ÅÀâ¬π]
    Ds(1),       // —à–∞–≥ —Å–µ—Ç–∫–∏ –ø–æ–¥–±–∏—Ä–∞–µ—Ç—Å—è –ø–æ–¥ —Ä–∞–∑–º–µ—Ä –≤–æ–ª–Ω–æ–≤–æ–≥–æ –±–∞—Å—Å–µ–π–Ω–∞  [–º–µ—Ç—Ä]
    Wind(0),     // –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç –≤–µ—Ç—Ä–æ–≤–æ–≥–æ –Ω–∞–ø—Ä—è–∂–µ–Ω–∏—è –Ω–∞ –≤–æ–ª–Ω–æ–≤—ã—Ö —Å–∫–ª–æ–Ω–∞—Ö
    Diagonal(1), // –°–º–µ—â–µ–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–∏ –¥–ª—è –ø–µ—Ä–≤–æ–≥–æ –≤—Å—Ç—É–ø–ª–µ–Ω–∏—è —Ñ—Ä–æ–Ω—Ç–∞ –≤–æ–ª–Ω—ã  [—Å–µ–∫]
    Phase(0),    // –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–µ–Ω–Ω—ã–π —Å–¥–≤–∏–≥ –≥—Ä–µ–±–Ω–µ–π –≤–æ–ª–Ω –≤ –∫–æ–ª–∏—á–µ—Å—Ç–≤–µ–Ω–Ω–æ–π –º–µ—Ä–µ
    Length(1),   // –¥–ª–∏–Ω–∞ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ —Ç—Ä–æ—Ö–æ–∏–¥–∞–ª—å–Ω–æ–π –≤–æ–ª–Ω—ã –≤–Ω—É—Ç—Ä–∏ –ø–∞–∫–µ—Ç–∞   [–º–µ—Ç—Ä]
    Height(.1),  // –≤—ã—Å–æ—Ç–∞ –ø–æ –¥–≤—É–º —Ä–∞–¥–∏—É—Å–∞–º —Ü–∏–∫–ª–æ–∏–¥—ã —É –≤–µ—Ä—à–∏–Ω—ã –≤–æ–ª–Ω—ã [–∫–æ—ç—Ñ.0:1]
    Extend(6),   // –ø—Ä–æ—Ç—è–∂–µ–Ω–Ω–æ—Å—Ç—å —Ñ—Ä–æ–Ω—Ç–∞ –≤–æ–ª–Ω—ã –º–µ–Ω—å—à–µ –¥–ª—è –∫—Ä—É—Ç–æ–≥–æ –≥—Ä–µ–±–Ω—è [–º–µ—Ç—Ä]
    H( NULL ),   // –∞–ø–ø–ª–∏–∫–∞—Ç–∞ –∏ —Å–º–µ—â–µ–Ω–∏–µ –∫—Ä—É–ø–Ω—ã—Ö —á–∞—Å—Ç–∏—Ü –Ω–∞ –ø–æ–≤–µ—Ä—Ö–Ω–æ—Å—Ç–∏ –∂–∏–¥–∫–æ—Å—Ç–∏
    V( NULL ){}  // —Ç—Ä–µ—Ö–º–µ—Ä–Ω–æ–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –≤–µ–∫—Ç–æ—Ä–æ–≤ –ø–æ–≤–µ—Ä—Ö–Ω–æ—Å—Ç–Ω—ã—Ö —Å–∫–æ—Ä–æ—Å—Ç–µ–π
//
//     –ü–æ–ª–µ —Å–∫–æ—Ä–æ—Å—Ç–∏ –ø–æ—è–≤–ª—è–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –≤ —Å–ª—É—á–∞–µ —Ç—Ä–æ—Ö–æ–∏–¥–∞–ª—å–Ω—ã—Ö –≤–æ–ª–Ω peak=true
//       ? –≤ —Å–ª—É—á–∞–µ –ø—Ä–æ–≤–µ–¥–µ–Ω–∏—è —Ä–µ–∞–ª—å–Ω–æ–≥–æ –≤—ã—á–∏—Å–ª–∏—Ç–µ–ª—å–Ω–æ–≥–æ —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∞ wave>1
Waves&                                       //! Cw,Ow —Å—Ç—Ä–æ–≥–æ —Å–≤—è–∑–∞–Ω—ã Length=Lw
Waves::Initial(_Real Lw,_Real Hw,_Real Dir ) // —Ö–∞—Ä–∞–∫—Ç–µ—Ä –∏ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤–æ–ª–Ω–µ–Ω–∏—è
{ Cw = sqrt( _g*Lw/_Pd );         // —Ñ–∞–∑–æ–≤–∞—è —Å–∫–æ—Ä–æ—Å—Ç—å —Ç—Ä–æ—Ö–æ–∏–¥–∞–ª—å–Ω–æ–π –≤–æ–ª–Ω—ã [–º/—Å]
  Ow = _Pd*Cw/Lw,                 // –∫—Ä—É–≥–æ–≤–∞—è —á–∞—Å—Ç–æ—Ç–∞ —á–∏—Å—Ç–æ –ø—Ä–æ–≥—Ä–µ—Å—Å–∏–≤–Ω–æ–π –≤–æ–ª–Ω—ã
  Ds = TimeStep*Cw;               //    –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ–º—ã–π —à–∞–≥ –∫–≤–∞–¥—Ä–∞—Ç–Ω–æ–π —Å–µ—Ç–∫–∏ [–º]
  Mx=int(Storm->Long/Ds/2+1)*2+1, //  –≤–æ–ª–Ω–æ–≤–æ–π –±–∞—Å—Å–µ–π–Ω —Å—Ç—Ä–æ–∏—Ç—Å—è —Ç–æ–ª—å–∫–æ –≤ —á—ë—Ç–Ω–æ–π
  My=int(Storm->Wide/Ds/2+1)*2+1; // —Ä–∞–∑–º–µ—Ä–Ω–æ—Å—Ç–∏ —Å –º–∞–ª—ã–º –ø–µ—Ä–µ–∫—Ä—ã—Ç–∏–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞
  H =(Vector**)Allocate( My,Mx*sizeof(Vector),H ); //+ –æ—Å—Ä–µ–¥–Ω—ë–Ω–Ω—ã–π –ø–æ—Ç–æ–∫ [–º¬≤/—Å]
  --Mx,--My;                   // —á—ë—Ç–Ω–∞—è —Ä–∞–∑–º–µ—Ä–Ω–æ—Å—Ç—å –∏–Ω–¥–µ–∫—Å–æ–≤ –≤ –º–∞—Ç—Ä–∏—Ü–∞—Ö [0..N]
  Length = Lw,                 // –∑–∞–¥–∞–Ω–Ω–∞—è –¥–ª–∏–Ω–∞ —Å–≤–æ–±–æ–¥–Ω–æ–π –¥–ª—è –ø–∞–∫–µ—Ç–∞ –≤–æ–ª–Ω—ã [–º]
  Extend = Lw*_Pd/Hw,          // –ø—Ä–æ—Ç—è–∂–µ–Ω–Ω–æ—Å—Ç—å —Ü–µ–Ω—Ç—Ä–∞–ª—å–Ω–æ–≥–æ –¥–µ–≤—è—Ç–æ–≥–æ –≤–∞–ª–∞  [–º]
  Height = Lw*Hw/hW;           //! –≤—ã—Å–æ—Ç–∞, —Ä–∞–¥–∏—É—Å√ó2¬∑—Ç—Ä–æ—Ö–æ–∏–¥—ã –Ω–∞ –ø–æ–≤–µ—Ä—Ö–Ω–æ—Å—Ç–∏ [–º]
  axiZ( _Pi-_dR*Dir );         // —Ç–µ–Ω–∑–æ—Ä –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è –¥–≤–∏–∂–µ–Ω–∏—è –≤–æ–ª–Ω—ã –∏–∑ –∫–∞—Ä—Ç—É—à–∫–∏
  return *this;
}
Waves& Waves::Clear()  // –æ—á–∏—Å—Ç–∫–∞ –¥–ª—è –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–æ–≤ –≤—ã—á–∏—Å–ª–∏—Ç–µ–ª—å–Ω—ã—Ö —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–æ–≤
{ Diagonal = Storm->Trun*Cw + Phase*Length;  // –¥–∏—Å—Ç–∞–Ω—Ü–∏—è —Å–≤–æ–±–æ–¥–Ω–æ–π –≥—Ä–∞–Ω–∏—Ü—ã [–º]
  if( Storm->Exp.wave>=2 )Diagonal += hypot( Mx,My )*Ds/2.0;
  if( Storm->Exp.wave>1 && Storm->Exp.peak )
  { V=(Vector**)Allocate( My+1,(Mx+1)*sizeof( Vector ),V );   // —Å–∫–æ—Ä–æ—Å—Ç—å [–º/—Å]
    for( int j=0; j<=My; j++ )memset( V[j],0,(Mx+1)*sizeof( Vector ) );
  } else// –∏–Ω–∞—á–µ –æ—Å—Ç–∞—ë—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø—Ä–æ—Å—Ç–æ–π –º–∞—Å—Å–∏–≤ —É—Ä–æ–≤–Ω–µ–π –º–æ—Ä—è —Å –ø–æ–ª–Ω—ã–º–∏ –ø–æ—Ç–æ–∫–∞–º–∏
  { if( V )Allocate( 0,0,V ); V=NULL;
  } //Tw=0.0;             // —Ñ–∞–∑–æ–≤—ã–π –æ—Ç—Å—á–µ—Ç –¥–ª—è –ø–µ—Ä–≤–æ–≥–æ –≤—Å—Ç—É–ø–ª–µ–Ω–∏—è —Ñ—Ä–æ–Ω—Ç–∞ –≤–æ–ª–Ω—ã
  for( int j=0; j<=My; j++ )
   if( Storm->Exp.peak )    // —à—Ç–∏–ª–µ–≤–∞—è –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–Ω–∞—è –ø–æ–≤–µ—Ä—Ö–Ω–æ—Å—Ç—å –≤ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–µ
    for( int i=0; i<=Mx; i++ ) // –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã —Ç–æ—á–µ–∫ –≤ –º–∞—Å—Å–∏–≤–µ –µ—Å–ª–∏ —Ç–∞–º –Ω–µ –ø–æ—Ç–æ–∫–∏
      H[j][i]=(Vector){ Ds*(i-Mx/2),Ds*(j-My/2),0 };
   else memset( H[j],0,(Mx+1)*sizeof( Vector ) );                   // [–º]
    // H[22][20].z=22,H[22][21].z=23,H[22][22].z=23,H[22][23].z=22; // –∏ –≤—Å—è–∫–∏–π
    // H[23][20].z=20,H[23][21].z=22,H[23][22].z=22,H[23][23].z=20; // –ø–æ–∂–∞—Ä–Ω—ã–π
  return *this;
}
///    –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∞—è –∏–ª–∏ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è –ø–µ—Ä–µ—Å—Ç—Ä–æ–π–∫–∞ –≤—Å–µ—Ö –≤–æ–ª–Ω–æ–≤—ã—Ö –ø–æ–ª–µ–π —Ä–∞–∑–æ–º
//                  –∏–ª–∏ –∏—Å—Ö–æ–¥–Ω–∞—è –ø—Ä–µ–¥—É—Å—Ç–∞–Ω–æ–≤–∫–∞ –≤—ã—á–∏—Å–ª–∏—Ç–µ–ª—å–Ω–æ–≥–æ —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∞
//
Field& Field::Original( bool init ) // –æ—á–∏—Å—Ç–∫–∞ –∏–ª–∏ –ø–µ—Ä–µ—É—Å—Ç–∞–Ω–æ–≤–∫–∞ –≤–æ–ª–Ω–æ–≤–æ–≥–æ –ø–æ–ª—è
{ for( int y=0; y<mY; y++ )      // –ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–∞—è —Ä–∞–∑–º–µ—Ç–∫–∞ —Å–µ—Ç–æ—á–Ω—ã—Ö –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç
  for( int x=0; x<mX; x++ )      // –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏ –¥–ª—è –æ–±–æ–±—â–µ–Ω–Ω–æ–≥–æ –≤–æ–ª–Ω–æ–≤–æ–≥–æ –ø–æ–ª—è
    { Vector &W=Ws[y][x]; W.x=x*dS-Long/2; W.y=dS*(y-Real(mY-1)/2); W.z=0.0; }
  if( init || Exp.wave>=2 )
    { if( logTime() )fprintf( VIL," ‚áí –≤–æ–∑–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ ‚áí 0\"[0]\n" );
      Trun=Tlaps=0.0; Kt=0;      // —Ä–µ–∞–ª—å–Ω–æ–µ –≤—Ä–µ–º—è –¥–ª—è –º–æ–¥–µ–ª–∏—Ä–æ–≤–∞–Ω–∏—è [—Å–µ–∫, —á–∞—Å]
      Instant.Now();             // —Ç–µ–∫—É—â–µ–µ –≤—Ä–µ–º—è –∫ —Ñ–∞–∑–µ –≤–æ–ª–Ω –Ω–∞ –¥–∞–Ω–Ω—ã–π –º–æ–º–µ–Ω—Ç
      Vessel->Original();
    } Wind.Clear();                             // –≤–µ—Ç–µ—Ä
      Swell.Clear();                            // –∑—ã–±—å
      Surge.Clear(); wavePrint(); return *this; // –≤–∞–ª
}
Hull& Hull::Initial()       // –≤–æ–∑–≤—Ä–∞—Ç –≤ –∏—Å—Ö–æ–¥–Ω—É—é –ø–æ–∑–∏—Ü–∏—é –ø–æ –∫—É—Ä—Å—É –∏ –¥–∏—Ñ—Ñ–µ—Ä–µ–Ω—Ç—É
{ Base::Identity(); axiY( Trim ); rotZ( -Course ); return *this;
}
Hull& Hull::Original()
{ if( !Storm )return *this;          // –∑–¥–µ—Å—å –ø—Ä–æ–ª–æ–≥ –º–æ–∂–µ—Ç –±—ã—Ç—å –µ—â—ë –Ω–µ –∑–∞–≤–µ—Ä—à—ë–Ω
  Volume=Surface=Floatage=0.0;       // —Å–æ–≥–ª–∞—Å–æ–≤–∞—Ç—å —Å Vs-math
  inWater=0.0; inMass=0.0; vR=0.0;   // mM=0.0; - –Ω–∞ Three-Initial
  Gravity=Buoyancy=Floatable=Metacenter=Zero; Locate=Zero;
  //!  –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ–º—ã–π –Ω–∞—á–∞–ª—å–Ω—ã–π –æ—Ç—Å—á–µ—Ç –¥–ª—è –∑–∞–ø—É—Å–∫–∞ –≤—Å–µ–≥–æ –ø—Ä–æ—Ü–µ—Å—Å–∞ –º–æ–¥–µ–ª–∏—Ä–æ–≤–∞–Ω–∏—è
  Route.len=Rate.len=Head.len=Whirl.len=Mix.len=0;   // –Ω–∞—á–∞–ª—å–Ω–∞—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
  Route += Zero;             // –ø–µ—Ä–≤—ã–π –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–Ω—ã–π –æ—Ç—Å—á–µ—Ç –Ω–∞ –º–∞—Ä—à—Ä—É—Ç–µ –ø–∞—Ä–æ—Ö–æ–¥–∞
  Rate  += Zero;             // –Ω–∞—á–∞–ª—å–Ω–∞—è —Å–∫–æ—Ä–æ—Å—Ç—å —Ö–æ–¥–∞ == 0              [–º/—Å]
  Head  += Zero;             // –æ—Ä–∏–µ–Ω—Ç–∞—Ü–∏—è –≤ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–µ –≤ —Ç—Ä—ë—Ö —É–≥–ª–∞—Ö –ö—Ä—ã–ª–æ–≤–∞
  Whirl += Zero;             // —Å–∫–æ—Ä–æ—Å—Ç–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è –∫—Ä–µ–Ω–∞, –¥–∏—Ñ—Ñ–µ—Ä–µ–Ω—Ç–∞ –∏ –∫—É—Ä—Å–∞
  Mix   += Zero;             // Mix.z - —É—Ä–æ–≤–µ–Ω—å –º–æ—Ä—è; —É - –∫—É—Ä—Å; x - —Å–∫–æ—Ä–æ—Å—Ç—å ..
 return Initial().Floating();// —É—Å—Ç–∞–Ω–æ–≤–∫–∞ –≥–ª–∞–≤–Ω—ã—Ö –æ—Å–µ–π –∏ –≥–µ–æ–º–µ—Ç—Ä–∏—á–µ—Å–∫–∏–µ —Ä–∞—Å—á–µ—Ç—ã
}
//!    –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤—ã–ø–æ–ª–Ω—è—é—â–∏–º—Å—è –≤—ã—á–∏—Å–ª–∏—Ç–µ–ª—å–Ω—ã–º —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–æ–º
///
static bool AllKeyb( byte Keyb )
{ Hull &Ship=*Vessel;                    // Field &Sea=*Storm;
  switch( Keyb )
  { case _BkSp:                          // –≤—Ä–µ–º–µ–Ω–Ω–æ–µ –ø—Ä–µ–∫—Ä–∞—â–µ–Ω–∏–µ\–≤–æ–∑–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ
       { static byte wave=0;             //   –º–æ—Ä—Å–∫–æ–≥–æ –≤–æ–ª–Ω–µ–Ω–∏—è (–µ—Å–ª–∏ –æ–Ω–æ –±—ã–ª–æ)
         Field &S=*Storm; wave|=S.Exp.wave<<2; S.Exp.wave=wave&3; wave>>=2;
         if( logTime() )
         { if( wave )fprintf(VIL,"  ‚áí –∏—Å–∫–ª—é—á–µ–Ω–∏–µ –º–æ—Ä—Å–∫–æ–≥–æ –≤–æ–ª–Ω–µ–Ω–∏—è [%d]",wave);
           else if( S.Exp.wave )
                fprintf( VIL,"  ‚áí –≤–æ–∑–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ: ¬´%s¬ª",ModelWave[S.Exp.wave] );
         } Storm->Original( false );   // –≤–æ–∑–≤—Ä–∞—Ç –≤—ã—á–∏—Å–ª–µ–Ω–∏–π –≤ –Ω–∞—á–∞–ª—å–Ω—ã–π –º–æ–º–µ–Ω—Ç
       } break;
    case '1': case '!': { Vector W={ _Ph/3.0 }; W=Ship*W; // –≤—ã–∑–æ–≤ –ö—Ä—ã–ª–æ–≤–∞ –≤ –ú–ë
                          Ship *= Krylov( W.x,W.y,W.z ); } break;   // –∑–∞–¥–∞—ë—Ç—Å—è
    case '3': case '#': { Vector W={-_Ph/3.0 }; W=Ship*W; // –∏–º–ø—É–ª—å—Å –∫—Ä–µ–Ω–∞ ¬±30¬∞
                          Ship *= Krylov( W.x,W.y,W.z ); } break;
    case '8': case '*': Ship.cSp += _Mile/1800.0; break;      // +2 —É–∑–ª–∞->–º/—Å–µ–∫
    case '2': case '@': Ship.cSp -= _Mile/1800.0; break;      // —Ä–µ–≤–µ—Ä—Å -2 —É–∑–ª–∞
    case '0': case ')': Ship.cSp = 0.0;           break;      // —Å—Ç–æ–ø –º–∞—à–∏–Ω–∞
    case '7': case '&':           Ship.dCs=_Pi/60.0; Keyb=0;
    case '4': case '$': if( Keyb )Ship.dCs=_Pd/60.0;
                        angle(Ship.Course-=_Ph*0.125); break; // –∫—É—Ä—Å ¬±1 —Ä—É–º–±
    case '9': case '(':           Ship.dCs=_Pi/60.0; Keyb=0;
    case '6': case '^': if( Keyb )Ship.dCs=_Pd/60.0;
                        angle(Ship.Course+=_Ph*0.125); break; // –∫—É—Ä—Å ¬±1 —Ä—É–º–±
    case '5': case '%': angle(Ship.Course=-Ship.Head[-1].z);  // —Ç–∞–∫ –¥–µ—Ä–∂–∞—Ç—å
//  case _Esc: return false;
  } return true;                  // –∏ –≤—Å–µ –∏–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã —Å–±—Ä–∞—Å—ã–≤–∞—é—Ç—Å—è
}
static int Write_choice( Window* Win )
{ byte ans=1;
  Mlist Menu[]={ { 1,0," –í—ã—Ö–æ–¥–Ω–æ–π —Ñ–æ—Ä–º–∞—Ç –º–æ–¥–µ–ª–∏ –∫–æ—Ä–ø—É—Å–∞ –∫–æ—Ä–∞–±–ª—è" },
                 { 2,47,"Wavefront Technologies Advanced Visualizer .obj" },
                 { 1,47,"–®–ø–∞–Ω–≥–æ—É—Ç—ã –∏ –∫–æ–Ω—Ç—É—Ä—ã –¥–∏–∞–º–µ—Ç—Ä–∞–ª—å–Ω–æ–π –ø–ª–æ—Å–∫–æ—Å—Ç–∏.dc2" },
                 { 1,47,"–ö–æ–Ω—Ç—É—Ä–Ω–∞—è –º–æ–¥–µ–ª—å –≤ —Ç—Ä—ë—Ö–º–µ—Ä–Ω–æ–π –ø—Ä–æ–µ–∫—Ü–∏–∏     .dc3" },
                 { 1,47,"–ö–æ—Ä–∞–±–ª—å —Å –∫–æ–Ω—Ç—É—Ä–∞–º–∏ –∏ –æ–±—à–∏–≤–∫–æ–π –∫–æ—Ä–ø—É—Å–∞     .dc3" } };
  TextMenu T( Mlist( Menu ),Win,6,5 ); return ans=T.Answer( ans );
}
//     ... –∏ –¥–∞–ª–µ–µ —Ä–∞–∑–¥–µ–ª—å–Ω–æ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –æ–∫–Ω–∞
//
static const char
 *Plus[]={ "¬ß ",  "¬´ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ö–æ–¥–æ–º –∫–æ—Ä–∞–±–ª—è ¬ª",
           "<8/2>"," ¬± –¥–≤–∞ —É–∑–ª–∞ –≤–ø–µ—Ä—ë–¥/–æ–±—Ä–∞—Ç–Ω–æ",
           "<7/9>"," ¬± —Ä—É–º–± –≤–ª–µ–≤–æ/–ø—Ä–∞–≤–æ –ø–æ–ª–±–æ—Ä—Ç–∞",
           "<4/6>"," ¬± —Ä—É–º–± –≤–ª–µ–≤–æ/–≤–ø—Ä–∞–≤–æ –Ω–∞ –±–æ—Ä—Ç",
           "<1/3>"," ¬± –∫—Ä–µ–Ω 30¬∞ –Ω–∞ –ª–µ–≤—ã–π/–ø—Ä–∞–≤—ã–π",
           "<5/Alt>"," —Ä—É–ª—å –ø—Ä—è–º–æ/—Ç–∞–∫ –¥–µ—Ä–∂–∞—Ç—å",
           "<0>    ","   —Å—Ç–æ–ø –º–∞—à–∏–Ω–∞",
           "¬ß ",  " ¬´ –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –º–æ–¥–µ–ª–∏—Ä–æ–≤–∞–Ω–∏—è ¬ª",
           " <Enter>     ","  –æ—Ç—Ä–∏—Å–æ–≤–∫–∞ –≥—Ä–∞—Ñ–∏–∫–æ–≤",
           " <Tab/Space> ","   –∑–∞–∫—Ä–∞—Å–∫–∏/–∫–æ–Ω—Ç—É—Ä—ã",
           " <Ctrl/+Shift> ","–∑–∞–¥–µ—Ä–∂–∫–∞ –∏–ª–∏ —Å—Ç–æ–ø",
           " <—Å—Ç—Ä–µ–ª–∫–∏‚Ä¢leftMouse>",  "–æ—Ä–∏–µ–Ω—Ç–∞—Ü–∏—è",
           " <+Shift‚Ä¢rightMouse>", "    —Å–º–µ—â–µ–Ω–∏–µ",
           " <+Ctrl‚Ä¢(roll)>"," –¥–∞–ª—å–Ω–æ—Å—Ç—å, –Ω–∞–∫–ª–æ–Ω",
           " <Del>+<Shift> ","    –∏—Å—Ö–æ–¥–Ω—ã–π –æ–±–∑–æ—Ä",
           " <BkSp> ","  –ø—Ä–µ–∫—Ä–∞—â–µ–Ω–∏–µ –≤–æ–ª–Ω–µ–Ω–∏—è",0
         };
bool Hull::KeyBoard( byte Keyb )                     // –° –∫—Ä–∞—Ç–∫–æ–π –ø–æ–¥—Å–∫–∞–∑–∫–æ–π –ø–æ
{ const static char                                  // –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º –∏ –º–µ—Ç–æ–¥–∞–º
     *Id[]={"Ship","  –¶–µ–ª–µ–≤–æ–µ –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ,   ",  // –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏ –∫–æ—Ä–ø—É—Å–∞ –∏
                   "  —Ç–µ–æ—Ä–∏—è –∏ —à—Ç–æ—Ä–º–æ–≤–∞—è",          // –≤—Å–µ–≥–æ –≤—ã—á–∏—Å–ª–∏—Ç–µ–ª—å–Ω–æ–≥–æ
                   "  –º–æ—Ä–µ—Ö–æ–¥–Ω–æ—Å—Ç—å –∫–æ—Ä–∞–±–ª—è",0 },    // —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∞
     *Cmds[]={ "F1 ","- –∫—Ä–∞—Ç–∫–∞—è —Å–ø—Ä–∞–≤–∫–∞",
               "F2 ","–∑–∞–ø–∏—Å—å –º–æ–¥–µ–ª–∏ –≤ CAD-—Ñ–æ—Ä–º–∞—Ç–µ",
               "F3 ","–≤—ã–±–æ—Ä –∏ —á—Ç–µ–Ω–∏–µ –∏–Ω–æ–≥–æ –∫–æ—Ä–ø—É—Å–∞",
               "F4 ","–ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∫–æ—Ä–ø—É—Å–∞/–∫–∞—Ä—Ç–∏–Ω–∫–∏",
               "F8 ","–≥–∏–¥—Ä–æ–º–µ—Ö–∞–Ω–∏–∫–∞ —à—Ç–æ—Ä–º–æ–≤–∞–Ω–∏—è",0 };     // Activate();
  switch( Keyb )
  { case _F1: Help( Id,Cmds,Plus,1,1 ); break;            // —Å–ø—Ä–∞–≤–∫–∞ —Å –∫–æ—Ä–ø—É—Å–æ–º
    case _F2: Write( Write_choice( this ) ); break;       // –∑–∞–ø–∏—Å—å 3D-–º–æ–¥–µ–ª–∏
    case _F3: if( !Read( "*.vsl" ) )
              Break( "–û—à–∏–±–∫–∞ –ø–æ–≤—Ç–æ—Ä–Ω–æ–≥–æ —á—Ç–µ–Ω–∏—è –∫–æ—Ä–ø—É—Å–∞ %s",FileName );
          Storm->Original( false ); break;    // –æ—á–∏—Å—Ç–∫–∞ –≤–æ–ª–Ω–æ–≤–æ–≥–æ –ø–æ–ª—è
    case _F4: Config(); break;                // –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Ñ–æ—Ä–º—ã –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è
    case _F8: Model_Config( this ); break;
    case _Tab: DrawMode=(DrawMode&~3)|((DrawMode-1)&3); break;
    case _Enter: DrawMode^=8; break;    // –æ–¥–Ω–æ –ø–æ–ª–µ –≥—Ä–∞—Ñ–∏–∫–æ–≤ –∏ –∫–∞—Ä—Ç—É—à–∫–∞ —Å–ø—Ä–∞–≤–∞
    case _Blank: DrawMode^=4; break;    // –ø—Ä–æ—Ä–∏—Å–æ–≤–∫–∞ –∫–æ—Ä–ø—É—Å–∞ –∏–ª–∏ —Ç—Ä–µ—É–≥–æ–ª—å–Ω–∏–∫–æ–≤
    case _Del: if( ScanStatus()&SHIFT ) // –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –∏—Å—Ö–æ–¥–Ω–æ–≥–æ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è
    { DrawMode=0x3; Initial();          // –∏—Å—Ö–æ–¥–Ω—ã–π –≤–∞—Ä–∏–∞–Ω—Ç —Ü–≤–µ—Ç–æ–≤–æ–π —Ä–∞—Å–∫—Ä–∞—Å–∫–∏
    } Distance=-2.4*sqrt(sqr(Length)+sqr(Breadth*2)+sqr(Draught*4));//–¥–∞–ª—å–Ω–æ—Å—Ç—å
      eye=(Vector){45,-10,0},look=(Vector){1,-2,0}; break;// –≤–µ–∫—Ç–æ—Ä—ã –æ—Ä–∏–µ–Ω—Ç–∞—Ü–∏–∏
    case _Esc: Above();                            // —É—Å—Ç–∞–Ω–æ–≤–∫–∞ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –æ–∫–Ω–∞
     if( MessageBoxW( hWnd,L"–ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ –≤—ã—á–∏—Å–ª–µ–Ω–∏–π",L" Aurora :: Ship",
         MB_APPLMODAL|MB_ICONQUESTION|MB_OKCANCEL|MB_DEFBUTTON1 )==IDOK )
         Close(); return true;                         // ~Window(); ~Hull()
   default: return View::KeyBoard( Keyb );             // –∏ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è –≤–∑–≥–ª—è–¥–∞
  } Draw(); return true;                               // –∏–Ω–∞—á–µ –∫–æ–º–∞–Ω–¥–∞ –ø—Ä–∏–Ω—è—Ç–∞
}
bool Field::KeyBoard( byte Keyb )
{ const static char                                     // –ö—Ä–∞—Ç–∫–∞—è –ø–æ–¥—Å–∫–∞–∑–∫–∞ –ø–æ
     *Id[]={ "Sea",":","–í—ã—á–∏—Å–ª–∏—Ç–µ–ª—å–Ω—ã–π —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç",    // –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º –≤—Å–µ–≥–æ
                       "—à—Ç–æ—Ä–º–æ–≤–æ–≥–æ –º–∞–Ω–µ–≤—Ä–∏—Ä–æ–≤–∞–Ω–∏—è",     // –≤—ã—á–∏—Å–ª–∏—Ç–µ–ª—å–Ω–æ–≥–æ
                       "–∫–æ—Ä–∞–±–ª—è –≤ –æ—Ç–∫—Ä—ã—Ç–æ–º –º–æ—Ä–µ",0 },   // —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∞
     *Cmds[]={ "F1 -"," –∫—Ä–∞—Ç–∫–∞—è —Å–ø—Ä–∞–≤–∫–∞",
               "F4  ","–Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –≤–æ–ª–Ω–æ–≤–æ–≥–æ —Ä–µ–∂–∏–º–∞",
               "F8  ","—à—Ç–æ—Ä–º–æ–≤–∞—è –≥–∏–¥—Ä–æ–º–µ—Ö–∞–Ω–∏–∫–∞",0 };    // Activate();
  switch( Keyb )                                        // .. —Å–ø—Ä–∞–≤–∫–∞, —á—Ç–æ –≤—ã—à–µ
  { case _F1: Help( Id,Cmds,Plus,-1,-1 ); break;
    case _F4: Config(); break;           // —Ä–µ–∂–∏–º—ã –≤—ã—á–∏—Å–ª–∏—Ç–µ–ª—å–Ω–æ–≥–æ —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∞
    case _F8: Model_Config( this ); break;
    case _Tab: Exp.draw+=ScanStatus()&SHIFT ? -1:1; break;  // —Ç—Ä–∏–∞–Ω–≥—É–ª—è—Ü–∏–æ–Ω–Ω–∞—è
    case _Blank: Exp.view+=ScanStatus()&SHIFT ? -1:1; break; // —Å–µ—Ç–∫–∞-—Ä–∞—Å–∫—Ä–∞—Å–∫–∞
    case _Del: if( ScanStatus()&SHIFT )
               { Exp.draw=Exp.view=0;  // –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –≤–æ–ª–Ω–æ–≤—ã—Ö –∑–∞–∫—Ä–∞—Å–æ–∫
                 Original( false );    // –≤–æ–∑–≤—Ä–∞—Ç –≤—ã—á–∏—Å–ª–µ–Ω–∏–π –≤ –Ω–∞—á–∞–ª—å–Ω—ã–π –º–æ–º–µ–Ω—Ç
               } Distance=-0.8*Long;   // ... –æ—Ç —Ç–æ—á–∫–∏ –≤–∑–≥–ª—è–¥–∞ –¥–æ –º–µ—Å—Ç–∞ –æ–±–∑–æ—Ä–∞
               eye=(Vector){ 150,-16.4,0 },look=(Vector){ 0,-10,0 }; break;
    case _Esc: Above();                // —É—Å—Ç–∞–Ω–æ–≤–∫–∞ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –æ–∫–Ω–∞
     if( MessageBoxW( 0,L"–ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∞",L" Storm :: Sea",
         MB_APPLMODAL|MB_ICONQUESTION|MB_OKCANCEL|MB_DEFBUTTON1 )==IDOK )
         Close(); return true;
   default: return View::KeyBoard( Keyb );
  } Draw(); return true;                 // –∫–æ–º–∞–Ω–¥–∞ –ø—Ä–∏–Ω—è—Ç–∞ –∫ –∏—Å–ø–æ–ª–Ω–µ–Ω–∏—é
}
static bool Hull_and_Waves_Draw()        // –≤—Å—è –≥—Ä–∞—Ñ–∏–∫–∞ –∏—Å–ø–æ–ª–Ω—è–µ—Ç—Å—è –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ
{ static int recurse=0;                  // –ø–æ —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ–º—É —Ç–∞–π–º–µ—Ä—É
  if( !recurse++ )
  { Vessel->Draw();    // —Å–Ω–∞—á–∞–ª–∞ –ø–∞—Ä–æ—Ö–æ–¥ –∏–¥—ë—Ç —Å–∞–º –ø–æ —Å–µ–±–µ –≤ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ–º –æ–∫–æ—à–∫–µ
    Storm->Draw();     // –∑–∞—Ç–µ–º –∫–∞—Ä—Ç–∏–Ω–∫–∞ —à—Ç–æ—Ä–º–æ–≤–æ–≥–æ –≤–æ–ª–Ω–µ–Ω–∏—è –≤–º–µ—Å—Ç–µ —Å –ø–∞—Ä–æ—Ö–æ–¥–æ–º
    Vessel->wPrint();  // ... –∏ –≥–µ–æ–º–µ—Ç—Ä–∏—á–µ—Å–∫–∏–µ —Ç–∞–±–ª–∏—á–∫–∏ -> –Ω–∞ —Ç–µ–∫—Å—Ç–æ–≤—É—é –∫–æ–Ω—Å–æ–ª—å
    recurse=0;         // –ø—Ä–∏ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–∏ —Ä–µ–∫—É—Ä—Å–∏–∏ –Ω–æ–≤—ã–µ —Ä–∏—Å—É–Ω–∫–∏ –ø—Ä–æ–ø—É—Å–∫–∞—é—Ç—Å—è
  } return false;      // WinReady();
//  return Vessel->Ready() && Storm->Ready();        // -- –≤–∞—Ä–∏–∞–Ω—Ç –¥–ª—è WaitTime
}
//!                      –ì–ª–∞–≤–Ω–∞—è –ø—Ä–æ—Ü–µ–¥—É—Ä–∞ –∑–∞–ø—É—Å–∫–∞–µ—Ç –ø—Ä–æ—Ü–µ—Å—Å—ã —Ä–µ–∞–ª—å–Ω–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏
///                                       –∏ –∑–∞—Ü–∏–∫–ª–∏–≤–∞–µ—Ç—Å—è –Ω–∞ –æ–ø—Ä–æ—Å–∞—Ö –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã
#include <OMP.h>
#include <Fenv.h>
//#include <Float.h>
//#include <locale.h>
int main()                                 // ( int ans, char **av, char **ac )
{                                          //   setlocale( LC_ALL,".UTF8" );
                                           //   setlocale( LC_CTYPE,".UTF8" );
//_clearfp(); unsigned CW=_control87
//(_EM_OVERFLOW|_EM_UNDERFLOW|_EM_ZERODIVIDE|_EM_INVALID|_EM_DENORMAL,_MCW_EM);
  feclearexcept( FE_ALL_EXCEPT );     // feclear{raise}except( FE_ALL_EXCEPT );
#ifdef _OPENMP
  omp_set_dynamic( true );
  omp_set_nested( true );
#endif
  textsize( 92,40 ),
  texttitle( Title ),
  textcolor( WHITE ),print(2,1,Title),textcolor( LIGHTCYAN ),print(SubTitle),
  textcolor( CYAN ),print(CopyRight),textcolor( LIGHTGREEN ),print( 1,27,
    " C  [–º] - –ø–æ–ª–æ–∂–µ–Ω–∏–µ –º–≥–Ω–æ–≤–µ–Ω–Ω–æ–≥–æ —Ü–µ–Ω—Ç—Ä–∞ –≤–µ–ª–∏—á–∏–Ω—ã (–ø–æ–¥–≤–æ–¥–Ω–æ–≥–æ –æ–±—ä—ë–º–∞)\n"
    " mC (Œ¥) - –º–∞—Ç—Ä–∏—Ü–∞ –æ—Ä–∏–µ–Ω—Ç–∞—Ü–∏–∏ –∫–æ—Ä–ø—É—Å–∞ (–∫–æ—Ä–∞–±–µ–ª—å–Ω—ã–µ –æ—Å–∏ –≤ –º–æ—Ä—Å–∫–æ–º –±–∞–∑–∏—Å–µ)\n"
    " vF [–º] - –∫–æ—Ä–∞–±–µ–ª—å–Ω—ã–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã —Ü–µ–Ω—Ç—Ä–∞ –ø–ª–æ—â–∞–¥–∏ –¥–µ–π—Å—Ç–≤—É—é—â–µ–π –≤–∞—Ç–µ—Ä–ª–∏–Ω–∏–∏\n"
    " vW (Œ¥) - –∏–Ω—Ç–µ–≥—Ä–∞–ª—å–Ω–∞—è –Ω–æ—Ä–º–∞–ª—å –∫ –¥–µ–π—Å—Ç–≤–∏—é –≥–∏–¥—Ä–æ—Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏—Ö —Å–∏–ª –≤—Å–ø–ª—ã—Ç–∏—è\n"
    " vD [–º] - —É—Å–ª–æ–≤–Ω—ã–π —Ü–µ–Ω—Ç—Ä —Å–æ—Å—Ä–µ–¥–æ—Ç–æ—á–µ–Ω–∏—è –≥–∏–¥—Ä–æ–¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏—Ö –ø–∞—Ä —Å–∏–ª\n"
    " vS [H/œÅ] - –Ω–∞–∫–æ–ø–∏—Ç–µ–ª—å–Ω—ã–π –≤–µ–∫—Ç–æ—Ä —Å–∏–ª –æ—Ç –ø–µ—Ä–µ–ø–∞–¥–æ–≤ —É—Ä–æ–≤–Ω—è –º–æ—Ä—è\n"
    " vR [H¬∑–º/œÅ] - –ø–æ–≤–æ—Ä–æ—Ç–Ω—ã–π –º–æ–º–µ–Ω—Ç –æ—Ç –∫—Ä–∏–≤–æ-–Ω–∞–∫–ª–æ–Ω–Ω–æ–π –≤–∞—Ç–µ—Ä–ª–∏–Ω–∏–∏\n"
    " mW [–º‚Å¥] - –º–æ–º–µ–Ω—Ç—ã –∏–Ω–µ—Ä—Ü–∏–∏ –ø–ª–æ—â–∞–¥–∏ –¥–µ–π—Å—Ç–≤—É—é—â–µ–π –≤–∞—Ç–µ—Ä–ª–∏–Ω–∏–∏\n"
    " mM [–º‚Åµ] - –æ–±—ä—ë–º–Ω—ã–µ –º–æ–º–µ–Ω—Ç—ã –∏–Ω–µ—Ä—Ü–∏–∏ –ø–æ–≥—Ä—É–∂–µ–Ω–Ω–æ–≥–æ –∫–æ—Ä–ø—É—Å–∞\n"
    " inMass  - –∏—Å—Ö–æ–¥–Ω—ã–µ –º–æ–º–µ–Ω—Ç—ã –∏–Ω–µ—Ä—Ü–∏–∏ –∫–æ—Ä–ø—É—Å–∞\n" );
  //
  //  –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –≤—ã–±–æ—Ä–∞ –∫–æ—Ä–ø—É—Å–∞ - –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç –∏ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç –≥—Ä–∞—Ñ–∏–∫—É —Å —á—Ç–µ–Ω–∏–µ–º
  //  –∏–∑ —Ñ–∞–π–ª–∞ –∏ —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è –∫–æ—Ä–ø—É—Å–∞ Aurora –≤ –æ–ø–µ—Ä–∞—Ç–∏–≤–Ω–æ–π –ø–∞–º—è—Ç–∏
  //  —Å –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ–º –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ–π –ø—Ä–æ—Ä–∏—Å–æ–≤–∫–∏ 3D –∫–æ—Ä–ø—É—Å–∞ –ø–æ–¥ –º—ã—à–∫–æ–π –∏ —Ç–∞–π–º–µ—Ä–æ–º
  //
 Hull Ship;
  //                  –≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∞—è —Å—Ä–µ–¥–∞ –¥–ª—è –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏—è –∏ –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏ –≥—Ä—É–ø–ø–æ–≤—ã—Ö
  //                  —Ç—Ä–æ—Ö–æ–∏–¥–∞–ª—å–Ω—ã—Ö —Å—Ç—Ä—É–∫—Ç—É—Ä —à—Ç–æ—Ä–º–æ–≤–æ–≥–æ –≤–æ–ª–Ω–µ–Ω–∏—è –≤—Å–µ–π –∞–∫–≤–∞—Ç–æ—Ä–∏–∏
 Field Sea( 800,720,     // Long, Wide - –¥–ª–∏–Ω–∞ –∏ —à–∏—Ä–∏–Ω–∞ —à—Ç–æ—Ä–º–æ–≤–æ–π –∞–∫–≤–∞—Ç–æ—Ä–∏–∏ [–º]
  //            0.5,     //.25 TimeStep –∑–∞–¥–∞–Ω–Ω—ã–π —à–∞–≥ –≤—Ä–µ–º–µ–Ω–∏ –≤–æ–ª–Ω–æ–≤—ã—Ö –ø–æ–ª–µ–π [c]
          64,0.9,-165,   //+10 –≤–µ—Ç—Ä–æ–≤—ã–µ –≤–æ–ª–Ω—ã —Å –æ–±—Ä—É—à–∞—é—â–∏–º–∏—Å—è –≥—Ä–µ–±–Ω—è–º–∏  [–º,%,¬∞]
         100,0.44,160,   //-20 —Å–≤–µ–∂–∞—è –º–æ—Ä—Å–∫–∞—è –∑—ã–±—å –Ω–µ–ø–æ–¥–∞–ª—ë–∫—É –ø—Ä–æ—à–µ–¥—à–∏—Ö —à—Ç–æ—Ä–º–æ–≤
         160,0.2,-130 ); //+50 –ø–æ–ª–æ–≥–∏–µ —Ä–µ–ª–∏–∫—Ç–æ–≤—ã–µ –≤–æ–ª–Ω—ã –æ—Ç —É–¥–∞–ª–µ–Ω–Ω—ã—Ö —É—Ä–∞–≥–∞–Ω–æ–≤

//Start_Experiment();    /// !!! - —Å—á–∏—Ç—ã–≤–∞–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω–æ–≥–æ —Ñ–∞–π–ª–∞ !!!

  Sea.Original( true );   // –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –ø–µ—Ä–µ–Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –≤–æ–ª–Ω–µ–Ω–∏—è –∏ –≥–∏–¥—Ä–æ–º–µ—Ö–∞–Ω–∏–∫–∏
                          //  —Å –ø–æ–¥–≥–æ—Ç–æ–≤–∫–æ–π –∫–æ—Ä–ø—É—Å–∞ –¥–ª—è –Ω–∞—á–∞–ª—å–Ω–æ–π –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏
  Ship.wPrint( true );    // –æ–ø–∏—Å–∞—Ç–µ–ª–∏ –ø–∞—Ä–æ—Ö–æ–¥–∞ –Ω–∞ —ç–∫—Ä–∞–Ω–µ-–∫–æ–Ω—Å–æ–ª–∏ –∏ –≤ –ø—Ä–æ—Ç–æ–∫–æ–ª–µ
  logWave();              // –∏–∑–Ω–∞—á–∞–ª—å–Ω—ã–µ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏ –≤–æ–ª–Ω –¥–ª—è –ø—Ä–æ—Ç–æ–∫–æ–ª–∞

  Sea.Window::KeyBoard( AllKeyb ); // —Å–∞–º—ã–π –Ω–∏–∂–Ω–∏–π —É—Ä–æ–≤–µ–Ω—å –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–π —Ä–µ–∫—É—Ä—Å–∏–∏
  Ship.Window::KeyBoard( AllKeyb ); // –¥–æ—Å—Ç—É–ø–µ–Ω –ø—Ä–∏ –ø—Ä—è–º–æ–º –æ–±—Ä–∞—â–µ–Ω–∏–∏ –≤ Window

  Ship.Above();           // —É—Å—Ç–∞–Ω–æ–≤–∫–∞ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –æ–∫–Ω–∞ —Å –ø—Ä–æ—Ä–∏—Å–æ–≤–∫–∞–º–∏ –∫–æ—Ä–∞–±–ª—è
  Ship.Initial()          // —É—Å—Ç–∞–Ω–æ–≤–∫–∞ –≥–ª–∞–≤–Ω—ã—Ö –æ—Å–µ–π —Å –∏—Å—Ö–æ–¥–Ω—ã–º–∏ –≥–µ–æ–º–µ—Ç—Ä–∏—á–µ—Å–∫–∏–º–∏
      .Floating( false ); // —Ä–∞—Å—á—ë—Ç–∞–º–∏ –ø–æ –∫–æ—Ä–ø—É—Å—É, –±–µ–∑ –≥—Ä–∞—Ñ–∏—á–µ—Å–∫–æ–π –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏
  Sea.SetTimer( 500 );    // –≤—ã—á–∏—Å–ª–µ–Ω–∏—è –ø–æ –≤–æ–ª–Ω–µ–Ω–∏—é —Å –º–µ—Ö–∞–Ω–∏–∫–æ–π –∫–æ—Ä–∞–±–ª—è (¬Ω —Å–µ–∫)
  Ship.SetTimer( 600,Hull_and_Waves_Draw );     // –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∫–æ—Ä–∞–±–ª—è –∏ –º–æ—Ä—è,
//WaitTime( 333,Hull_and_Waves_Draw,33 );

                 // —á–∞—Å—ã –∏ –ø—Ä–æ—á–∞—è –æ–ø–µ—Ä–∞—Ç–∏–≤–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è —Å–ø—Ä–∞–≤–∞ –≤ –Ω–∏–∂–Ω–µ–π —Å—Ç—Ä–æ–∫–µ
//#pragma omp parallel //sections
//{
//#pragma omp master
//{
//#pragma omp section
//{
//#pragma omp task
//{
  do                                                                  // -=+*&#
  { static int i=0; print( 1,23,"%c",( "#0123456789ABCDEF=" )[++i%=18] ); // üåÄ
    WaitTime( 333 );     // —Ç—Ä–∏ –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π –≤ —Å–µ–∫—É–Ω–¥—É
//  Sleep( 1025 );      // –∏–ª–∏ –≤–∞—Ä–∏–∞–Ω—Ç—ã –ø–æ–ª–Ω–æ–π –∑–∞–¥–µ—Ä–∂–∫–∏ –ø–æ –±–ª–æ–∫–∏—Ä—É—é—â–µ–º—É —Ç–∞–π–º–µ—Ä—É
    if( !Ship.Ready() )Sea.Close();
    if( !Sea.Ready() )Ship.Close();
  } while( WinReady() );

//} // task
//} // master
//} // parallel
//#pragma omp taskwait

  logStop();
  textcolor( LIGHTMAGENTA );
  print( 1,24,"\n << —É—Å–ø–µ—à–Ω–æ–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ >> " ); // _exit( EXIT_SUCCESS );
  return EXIT_SUCCESS;
}
